<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Appointment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body>
    <h1>Book A Call</h1>
    <body>
        <form onsubmit="saveTolocalStorage(event)">
            
                <label>Name</label>
                <input type="text"  name="username">
    
            
                <label >Phone Number</label>
                <input type="text"  name="phone">
    
            
                <label>Email</label>
                <input type="email"  name="emailId">

                <button>Submit</button>
    
            <h2>Detail</h2>
        </form>
        <ul id="ul1"> </ul>
<script>
    function saveTolocalStorage(event){
    event.preventDefault();
    const name =event.target.username.value;
    const email=event.target.emailId.value;
    const phone=event.target.phone.value;

    const obj={
         name,
        email,
        phone
    }
    localStorage.setItem(obj.email, JSON.stringify(obj))
    showUserOnScreen(obj)
    }

    function showUserOnScreen(obj){
    const parentElem =document.getElementById('ul1')
    const childElem = document.createElement('li')
    childElem.textContent=obj.name+" "+ obj.email+" "+obj.phone
    parentElem.appendChild(childElem)

        const deletebtn=document.createElement('input')
        deletebtn.value='Delete'
        deletebtn.onclick= ()=>{
            localStorage.removeItem(obj.email)
            parentElem.removeChild(childElem)
        }
        childElem.appendChild(deletebtn)
        parentElem.appendChild(childElem)

        const editbtn=document.createElement('input')
        editbtn.type='button'
        editbtn.value='Edit'
        editbtn.onclick= ()=>{
            localStorage.removeItem(obj.email)
            parentElem.removeChild(childElem)
            document.getElementById('usernameInputTag').value=obj.name
            document.getElementById('emailInputTag').value =obj.email
            document.getElementById('phoneInputTag').value=obj.phone
    }   
        childElem.appendChild(deletebtn)
        childElem.appendChild(editbtn)
        parentElem.appendChild(childElem)
}
</script>
    </body>
</html>